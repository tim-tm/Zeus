package me.tim.features.module.impl.exploit;

import me.tim.Statics;
import me.tim.features.event.EventPreMotion;
import me.tim.features.event.api.EventTarget;
import me.tim.features.module.Category;
import me.tim.features.module.Module;
import me.tim.ui.click.settings.impl.BooleanSetting;
import me.tim.util.common.MathUtil;
import net.minecraft.init.Items;
import org.lwjgl.input.Keyboard;

public class FastPlace extends Module {
    private BooleanSetting randomSetting;

    public FastPlace() {
        super("FastPlace", "Place blocks faster!", Keyboard.KEY_NONE, Category.EXPLOIT);
    }

    @Override
    protected void setupSettings() {
        this.settings.add(this.randomSetting = new BooleanSetting("Randomize", "Random Place-Delay", false));
    }

    @EventTarget
    private void onUpdate(EventPreMotion event) {
        if (Statics.getPlayer().getCurrentEquippedItem() == null || Statics.getPlayer().getCurrentEquippedItem().getItem() == Items.ender_pearl) return;
        Statics.getMinecraft().rightClickDelayTimer = this.randomSetting.getValue() ? MathUtil.random(1, 4).intValue() : 0;
    }
}
